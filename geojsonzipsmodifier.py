import json


def mod_zip_geojson():
# should be 125
    keep_zips = ["95075", "95076", "95110", "95030", "95032", "95033", "95035", "95037", "95039", "95041", "95043", "95045", "95046", "95050", "95051", "95054", "95060", "95062", "95064", "95065", "95066", "95070", "95073", "93901", "93905", "93906", "93907", "93908", "93920", "93921", "93923", "93924", "93925", "93926", "93927", "93930", "93933", "93940", "94085", "94086", "94087", "94089", "95002", "95003", "95004", "95005", "94043", "94044", "95006", "95007", "95008", "95010", "95012", "95014", "95017", "95018", "95019", "95020", "95023", "94303", "94304", "94305", "94306", "94401", "94402", "94403", "94404", "94301", "95111", "95112", "95116", "95117", "95118", "95119", "95120", "95121", "95122", "95123", "95124", "95125", "95126", "95127", "95128", "95129", "95130", "95131", "95132", "95133", "95134", "95135", "95136", "95138", "95139", "95140", "95148", "94010", "94014", "94015", "94019", "94020", "94022", "94024", "94025", "94027", "94028", "94030", "94037", "94038", "94040", "94041", "93950", "93953", "93955", "93960", "93962", "94002", "94005", "94060", "94061", "94062", "94063", "94065", "94066", "94070", "94080"]
# should be 353
    # discard_zips = ["93627", "94511", "93630", "93631", "94513", "94514", "93635", "94518", "93638", "93640", "94124", "94521", "90265", "94128", "94526", "94528", "91354", "94132", "93648", "94516", "93001", "93003", "93004", "93010", "93012", "93013", "93015", "93636", "94517", "93637", "95385", "95386", "95387", "95388", "95391", "93606", "93608", "93609", "93610", "93611", "93612", "93614", "93616", "95053", "93618", "93619", "93620", "93622", "93624", "93625", "93626", "94509", "94531", "91355", "91360", "90290", "94536", "91361", "94538", "94539", "91362", "94541", "91364", "91367", "91377", "91381", "91384", "95329", "95252", "95330", "95333", "95334", "91301", "91302", "95336", "94582", "94583", "94586", "94587", "93720", "94588", "93721", "93722", "93723", "91303", "95301", "95337", "91304", "95303", "95338", "95304", "95340", "95341", "91306", "95306", "91307", "95307", "91311", "95348", "95311", "95350", "95312", "95351", "95354", "91320", "95355", "95356", "91321", "95357", "95358", "94575", "95360", "95361", "94577", "95363", "94578", "94579", "95365", "94580", "95366", "93402", "93725", "94595", "93726", "94596", "93727", "93728", "94598", "93730", "93287", "94601", "93291", "93292", "93301", "93304", "93305", "93306", "93307", "93308", "91326", "93309", "93311", "93312", "93313", "91335", "93928", "93314", "93401", "93932", "93432", "93433", "93434", "93436", "93437", "93440", "93441", "93442", "93243", "93444", "93445", "93245", "93446", "93449", "93249", "93450", "93250", "93451", "93251", "93452", "93252", "93453", "93254", "93454", "94112", "93455", "93256", "93458", "93257", "93460", "93258", "93461", "93463", "95376", "95377", "95231", "95234", "95236", "95240", "95242", "91324", "94542", "94544", "94545", "94546", "93650", "93261", "93465", "93263", "93266", "93267", "95013", "93268", "93270", "93272", "93274", "93276", "93277", "93280", "93230", "93036", "93234", "93040", "93041", "93239", "95367", "93560", "95368", "93561", "95369", "95370", "95374", "95202", "95203", "95380", "95204", "95382", "95205", "95206", "95207", "95209", "95210", "93241", "93242", "93660", "94556", "93662", "95211", "95212", "95215", "95219", "95222", "95228", "95230", "93202", "93203", "93204", "93206", "93210", "93212", "93215", "93218", "93219", "93220", "93021", "93222", "93022", "93023", "93224", "94134", "93030", "93225", "93033", "93035", "94501", "94502", "94505", "94506", "94507", "94548", "94549", "93652", "94550", "93653", "94551", "93654", "94552", "93656", "93657", "94555", "93665", "94560", "94561", "94563", "93668", "93673", "94566", "93701", "94568", "93702", "93703", "93704", "93705", "93706", "93710", "93711", "93427", "95113", "93532", "93536", "95313", "95315", "95316", "95317", "95319", "95320", "95322", "95323", "93428", "93429", "93430", "94021", "93043", "95324", "93060", "95325", "93063", "95326", "93064", "95327", "93065", "95328", "93066", "93067", "93101", "93103", "93105", "93108", "93109", "93110", "93111", "93117", "93201", "94602", "94603", "94605", "94606", "94607", "94610", "94611", "94612", "94613", "93943", "94618", "94619", "93405", "94621", "93954", "93410", "93420", "93422", "93424", "93426", "94074"]

    f = open("data/maps/tl_2013_us_zcta510zipcodes/subsetzipsnonblank.geojson")
    x = f.read()
    y = json.loads(x)
    # print y
    f.close()

    # print len(y['features'])

    include_zips = []
    for i in range(len(y['features'])):
        for x in range(len(keep_zips)):
            if y['features'][i]['properties']['ZCTA5CE10'] == keep_zips[x]:
                include_zips.append(y['features'][i])

    zips_data = json.dumps(include_zips)
    # test = ["Hello", "hello"]
    # jsontest = json.dumps(test)
    z = open("data/maps/tl_2013_us_zcta510zipcodes/testfile.txt", "w")
    z.write(zips_data)
    z.close()

def print_new_file():
    f = open("data/maps/tl_2013_us_zcta510zipcodes/outputfile.txt")
    x = f.read()
    y = json.loads(x)

    print len(y)

if __name__ == "__main__":
    # mod_zip_geojson()
    print_new_file()